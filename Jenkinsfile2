#!groovy
def pushProperties
def log
def tokens
def fileIncludePatterns = ''
def deploy = 0
def componentName
def componentTag
def componentAppName
def binder
def lista
def proyecto = "Unico"
def earName = "unico.ear"			//Modificar segun el nombre del ear.
def tipo = "EAR1"//Modificar segun el tipo de artefacto en mayusculas, las opciones son: EAR - JASPER - XML - JAR.


pipeline {
	agent any
	   	environment {

		SCM_URL = "https://github.com/nazpot01/Pruebas.git"
	     //	SCM_CREDENTIALS = "GitHub token ugithub"
		 SCM_BRANCH = "*/${BRANCH_NAME}"
		BRANCH_NAME= "RQ01" //variable
		SCM_CREDENTIALS = "123456789"
		}

   stages {
		stage('GET_CODE_BRANCH') {
            steps {
                step([$class: 'WsCleanup'])
                echo "[EXEC] - Obtener c√≥digo fuente desde repositorio Git"
                checkout([
                        $class                           : 'GitSCM',
                        branches                         : [
                                [name: "${BRANCH_NAME}"]
                        ],
                        doGenerateSubmoduleConfigurations: false,
                        extensions                       : [],
                        submoduleCfg                     : [],
                        userRemoteConfigs                : [
                                [credentialsId: "${SCM_CREDENTIALS}", url: "${SCM_URL}"]
                        ]
                ])

			}
		}
	

		stage('copiado'){
		steps {
			script{
				sh '''
				bash -c "mkdir /var/jenkins_home/workspace/Prueba_deploy/unicoarchivos/prueba"
				'''
				}
			}
		steps {
		script{
				sh '''
				bash -c "cd /var/jenkins_home/workspace/Prueba_deploy/unicoarchivos/prueba"
				'''
				}
			}
		}
	}
}
